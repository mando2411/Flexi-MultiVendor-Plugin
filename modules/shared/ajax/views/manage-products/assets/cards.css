/****************************
   Improved Responsive Cards UI
   - nicer spacing, accessibility, responsive breakpoints
   - multiline titles, keyboard focus states, RTL-aware
*****************************/

:root{
  --sty-main: #4f46e5;
  --sty-accent: #7c83ff;
  --sty-soft: #eef2ff;
  --sty-bg: #f8fafc;
  --sty-border: #e6e9ef;
  --sty-text: #0f172a;
  --sty-muted: #64748b;
  --sty-danger: #dc2626;
  --sty-radius: 12px;
  --sty-gap: 20px;
}

/* --------------------------
   Grid / Layout
   responsive breakpoints for better density control
   ------------------------- */
.sty-cards-grid{
  display: grid;
  /* Number of columns is adjustable via --cards-cols (default falls back to media rules) */
  grid-template-columns: repeat(var(--cards-cols, 1), 1fr);
  gap: var(--sty-gap);
  margin: 28px auto;
  max-width: 1000px;
  padding: 18px;
}

@media (min-width: 480px) {
  .sty-cards-grid{ --cards-cols: 2; }
}

@media (min-width: 900px) {
  .sty-cards-grid{ --cards-cols: 3; }
}

@media (min-width: 1200px) {
  .sty-cards-grid{ --cards-cols: 3; }
}

/* Keep RTL/LTR behavior consistent */
html[dir="rtl"] .sty-cards-grid{ direction: rtl; }
html[dir="ltr"] .sty-cards-grid{ direction: ltr; }


/* --------------------------
   Card
   ------------------------- */
.sty-card{
  background: #fff;
  border-radius: var(--sty-radius);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  position: relative;
  border: 1px solid var(--sty-border);
  box-shadow: 0 6px 20px rgba(12,20,32,0.06);
  transition: transform .24s ease, box-shadow .24s ease, border-color .24s ease;
}

.sty-card:focus-within,
.sty-card:hover{
  transform: translateY(-6px);
  border-color: var(--sty-accent);
  box-shadow: 0 18px 40px rgba(79,70,229,0.12);
}

.sty-card.is-deactivated{
  opacity: .6;
  filter: grayscale(.45);
}


/* --------------------------
   Image / Media
   use aspect-ratio so cards are consistent across devices
   ------------------------- */
.card-thumb{
  position: relative;
  overflow: hidden;
  background: var(--sty-bg);
  aspect-ratio: 4 / 3;
}

.card-thumb img{
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
  display: block;
  transition: transform .45s ease;
}

.sty-card:hover .card-thumb img,
.sty-card:focus-within .card-thumb img{
  transform: scale(1.04);
}


/* --------------------------
   Badges
   ------------------------- */
.card-badge{
  position: absolute;
  top: 12px;
  inset-inline-start: 12px;
  padding: 6px 10px;
  font-size: 12px;
  font-weight: 600;
  border-radius: 16px;
  color: #fff;
  background: rgba(17,24,39,0.85);
  z-index: 3;
}

.badge-publish{ background: #16a34a; }
.badge-pending{ background: #f59e0b; }
.badge-draft{ background: #64748b; }

.badge-off{
  background: var(--sty-danger);
  inset-inline-start: auto;
  inset-inline-end: 12px;
}


/* --------------------------
   Delete Button (accessible)
   ------------------------- */
.card-delete-btn{
  position: absolute;
  top: 12px;
  inset-inline-end: 12px;
  width: 36px;
  height: 36px;
  border: none;
  border-radius: 50%;
  background: rgba(15,23,42,0.7);
  color: #fff;
  font-size: 15px;
  cursor: pointer;
  opacity: 0;
  z-index: 5;
  display: flex;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(6px);
  transition: opacity .18s ease, transform .12s ease, background .12s ease;
}

.sty-card:hover .card-delete-btn,
.card-delete-btn:focus{
  opacity: 1;
}

.card-delete-btn:hover{ background: var(--sty-danger); transform: scale(1.08); }
.card-delete-btn:focus{ outline: 3px solid rgba(79,70,229,0.18); }


/* --------------------------
   Content / Typography
   ------------------------- */
.card-content{
  padding: 16px;
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

/* Allow title to wrap to two lines with ellipsis */
.card-title{
  font-size: 15px;
  font-weight: 600;
  color: var(--sty-text);
  margin: 0;
  line-height: 1.35;
  /* primary: WebKit/Blink multi-line clamp */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  /* modern (unprefixed) property where supported */
  line-clamp: 2;
  /* fallback: limit height equal to two lines using current line-height */
  max-height: calc(1.35em * 2);
  overflow: hidden;
  text-overflow: ellipsis;
  /* ensure long words wrap instead of overflowing */
  word-break: break-word;
}

.card-meta{
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 8px;
}

.card-price{
  font-weight: 700;
  font-size: 14px;
  color: var(--sty-main);
}

/* Sale price + discount styles */
.card-price-wrap{ display:flex; align-items:center; gap:8px; }
.card-price-sale{ font-weight:800; color: var(--sty-main); font-size:15px; }
.card-price-regular{ color: var(--sty-muted); text-decoration: line-through; font-size:13px; }
.card-discount-badge{ background:#e63946; color:#fff; padding:4px 6px; border-radius:8px; font-size:12px; font-weight:700; }

.card-cat{
  font-size: 12px;
  color: var(--sty-muted);
  background: var(--sty-bg);
  padding: 4px 10px;
  border-radius: 999px;
}


/* --------------------------
   Footer / Actions
   stacked on small screens
   ------------------------- */
.card-footer{
  display: flex;
  background: #fcfcfd;
  border-top: 1px solid var(--sty-border);
  align-items: center;
}

.card-btn{
  flex: 1 1 0;
  text-align: center;
  padding: 10px 8px;
  font-size: 13px;
  font-weight: 500;
  color: var(--sty-text);
  text-decoration: none;
  border-inline-end: 1px solid var(--sty-border);
  transition: background .15s ease, color .15s ease, transform .12s ease;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.card-btn:last-child{ border: none; }
.card-btn:hover, .card-btn:focus{ background: var(--sty-soft); color: var(--sty-main); transform: translateY(-2px); }
.card-btn:focus{ outline: 3px solid rgba(79,70,229,0.12); }

.btn-deactivate-user{ color: #b91c1c; }
.btn-activate-user{ color: #15803d; }


/* --------------------------
   Empty State
   ------------------------- */
.sty-empty{
  text-align: center;
  padding: 48px 20px;
  font-size: 15px;
  color: var(--sty-muted);
}


/* --------------------------
   Responsive tweaks
   ------------------------- */
@media (max-width: 600px){
  .sty-cards-grid{ padding-inline: 12px; }
  .card-thumb{ aspect-ratio: 16 / 10; }
  .card-footer{ flex-direction: row; flex-wrap: wrap; }
  .card-btn{ flex: 0 0 50%; border-inline-end: none; border-bottom: 1px solid var(--sty-border); }
  .card-btn:nth-child(2n){ border-left: 1px solid var(--sty-border); }
}

@media (prefers-reduced-motion: reduce){
  *{ transition: none !important; }
}

